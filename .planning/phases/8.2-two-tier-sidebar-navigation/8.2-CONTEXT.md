# Phase 8.2: Two-Tier Sidebar Navigation Architecture - Context

**Gathered:** 2026-01-26
**Status:** Ready for planning

<domain>
## Phase Boundary

Refactor the current single-panel sidebar into a two-tier navigation structure: a primary icon rail for top-level feature switching, plus contextual secondary panels that display relevant content per feature. This phase restructures existing sidebar functionality — no new features are added.

</domain>

<decisions>
## Implementation Decisions

### Icon rail design
- Rail width: thin ~48px (Linear-style)
- Items from top to bottom:
  - **Top:** New Chat action button
  - **Middle:** Chats, Sidekiqs, Teams (navigation icons)
  - **Bottom area:** Settings icon, then User avatar at the very bottom
- Rail is fixed, no scrolling — items are limited by design
- Tooltips on hover showing the label name (e.g., "Chats", "Sidekiqs")
- No notification badges for now — keep the rail clean
- Rail is always visible on desktop (never hidden)

### Panel transitions
- Panel syncs with the current route (URL determines active panel: /chat → Chats, /sidekiqs → Sidekiqs, etc.)
- Settings icon navigates to /settings full page — no secondary panel for settings

### Feature-to-panel mapping
- **Chats panel:** Thread list with search + active team filter at top (current sidebar content migrated here)
- **Sidekiqs panel:** Clicking a Sidekiq starts a new chat (navigates to /chat?sidekiq={id})
- **Teams panel:** Clicking a team navigates to /settings/teams/{id} for full management
- Search is scoped per panel (search in Chats searches threads, search in Sidekiqs searches sidekiqs)

### Mobile behavior
- Icon rail becomes a bottom tab bar on mobile
- Simplified tab set for mobile: Chats, Sidekiqs, Settings (Teams accessed through settings)
- Tapping a tab opens a full-screen overlay with that panel's content
- New Chat action lives inside the Chats panel overlay on mobile (not a separate tab or FAB)

### Claude's Discretion
- Active icon indicator style (left accent bar vs background highlight)
- New Chat button visual treatment (accent-colored vs same style as nav icons)
- Rail-to-panel border/separator approach
- Panel transition animation (crossfade, slide, or instant swap)
- Secondary panel collapsibility (whether user can collapse panel independently)
- Toggle-on-re-click behavior for active icon
- Panel resizability
- Session persistence for last active panel
- Keyboard shortcuts for panel switching
- Panel header design (titled headers with actions vs minimal)
- Sidekiqs panel content and density
- Teams panel content and layout
- Mobile breakpoint for desktop-to-mobile switch
- Bottom tab bar scroll-hide behavior

</decisions>

<specifics>
## Specific Ideas

- Linear.app is the primary design reference — thin icon rail with clean, minimal aesthetic
- Bottom tab bar on mobile follows native app patterns (iOS/Android tab bar conventions)
- Full-screen overlay for mobile panels rather than half-screen drawers

</specifics>

<deferred>
## Deferred Ideas

None — discussion stayed within phase scope

</deferred>

---

*Phase: 8.2-two-tier-sidebar-navigation*
*Context gathered: 2026-01-26*
