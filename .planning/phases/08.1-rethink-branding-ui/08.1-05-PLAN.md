---
phase: 08.1-rethink-branding-ui
plan: 05
type: execute
wave: 3
depends_on: ["08.1-01", "08.1-02"]
files_modified:
  - sidekiq-webapp/src/components/sidebar/sidebar.tsx
  - sidekiq-webapp/src/components/sidebar/sidebar-header.tsx
  - sidekiq-webapp/src/components/sidebar/sidebar-footer.tsx
  - sidekiq-webapp/src/components/sidebar/sidebar-search.tsx
  - sidekiq-webapp/src/components/sidebar/sidebar-collapsed.tsx
  - sidekiq-webapp/src/components/sidebar/sidebar-thread-list.tsx
  - sidekiq-webapp/src/components/sidebar/sidebar-thread-group.tsx
  - sidekiq-webapp/src/components/sidebar/sidebar-sidekiqs.tsx
  - sidekiq-webapp/src/components/sidebar/sidebar-teams.tsx
  - sidekiq-webapp/src/components/sidebar/sidebar-mobile.tsx
  - sidekiq-webapp/src/components/thread/thread-item.tsx
autonomous: true

must_haves:
  truths:
    - "Sidebar background is slightly darker than main content (uses sidebar tokens)"
    - "Active thread item has left accent bar (border-l-2 border-primary) and bg-accent fill"
    - "Sidebar header shows brand as lowercase 'sidekiq' with icon"
    - "Sidebar text is slightly smaller than main content for hierarchy"
    - "Sidebar border separates it from main content area"
    - "No glassmorphism in any sidebar component"
  artifacts:
    - path: "sidekiq-webapp/src/components/sidebar/sidebar-header.tsx"
      provides: "Brand mark with lowercase sidekiq"
      contains: "sidekiq"
    - path: "sidekiq-webapp/src/components/thread/thread-item.tsx"
      provides: "Thread item with active state left accent bar"
      contains: "border-l-2"
    - path: "sidekiq-webapp/src/components/sidebar/sidebar.tsx"
      provides: "Sidebar with border-r and sidebar background"
      contains: "border-r"
  key_links:
    - from: "sidekiq-webapp/src/components/thread/thread-item.tsx"
      to: "sidekiq-webapp/src/styles/globals.css"
      via: "bg-accent and border-primary for active state"
      pattern: "border-primary"
---

<objective>
Restyle all sidebar and thread components with the Linear-inspired aesthetic: subtle sidebar background differentiation, left-accent-bar active states, lowercase brand, and clean section styling.

Purpose: The sidebar is the primary navigation surface. It needs clear hierarchy, professional styling, and the signature Linear-style active indicators.
Output: 11 updated sidebar and thread component files.
</objective>

<execution_context>
@/Users/carlocasorzo/.claude/get-shit-done/workflows/execute-plan.md
@/Users/carlocasorzo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/08.1-rethink-branding-ui/08.1-RESEARCH.md
@.planning/phases/08.1-rethink-branding-ui/08.1-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Restyle sidebar structure and header</name>
  <files>
    sidekiq-webapp/src/components/sidebar/sidebar.tsx
    sidekiq-webapp/src/components/sidebar/sidebar-header.tsx
    sidekiq-webapp/src/components/sidebar/sidebar-footer.tsx
    sidekiq-webapp/src/components/sidebar/sidebar-search.tsx
    sidekiq-webapp/src/components/sidebar/sidebar-collapsed.tsx
    sidekiq-webapp/src/components/sidebar/sidebar-mobile.tsx
  </files>
  <action>
  Read each file and apply these specific changes:

  **sidebar.tsx:**
  - Ensure sidebar uses `bg-sidebar` background (the sidebar token is slightly darker than main bg in dark mode)
  - Add `border-r border-sidebar-border` if not already present for clear panel separation
  - Replace any hardcoded zinc colors or glass classes
  - Sidebar text should use `text-sidebar-foreground`

  **sidebar-header.tsx:**
  - Brand name: display as lowercase **"sidekiq"** in `text-sm font-semibold text-sidebar-foreground`
  - If there's an app name/logo area, use lowercase styling
  - New Chat button: use `bg-sidebar-primary text-sidebar-primary-foreground` (blue accent)
  - Replace hardcoded zinc colors

  **sidebar-footer.tsx:**
  - Use `border-t border-sidebar-border` for top border separation
  - Replace hardcoded zinc colors with sidebar semantic tokens
  - User info text: `text-sidebar-foreground` for name, `text-muted-foreground` for email

  **sidebar-search.tsx:**
  - Search input: `border border-sidebar-border bg-transparent` or `bg-sidebar-accent/50`
  - Placeholder: `text-muted-foreground`
  - If it has a Cmd+K hint, style as kbd element: `inline-flex h-5 items-center rounded border border-border bg-muted px-1.5 text-[10px] font-medium text-muted-foreground`
  - Replace hardcoded zinc colors

  **sidebar-collapsed.tsx:**
  - Icon rail: use `bg-sidebar` background
  - Icons: `text-sidebar-foreground/70 hover:text-sidebar-foreground`
  - Active icon: `text-sidebar-primary`
  - Replace hardcoded zinc colors

  **sidebar-mobile.tsx:**
  - Mobile drawer: ensure it uses `bg-sidebar` for the sheet content
  - Replace hardcoded zinc colors
  - Remove any glass classes
  </action>
  <verify>
  Run: `grep -r "zinc-\|glass\|backdrop-blur" sidekiq-webapp/src/components/sidebar/sidebar.tsx sidekiq-webapp/src/components/sidebar/sidebar-header.tsx sidekiq-webapp/src/components/sidebar/sidebar-footer.tsx sidekiq-webapp/src/components/sidebar/sidebar-search.tsx sidekiq-webapp/src/components/sidebar/sidebar-collapsed.tsx sidekiq-webapp/src/components/sidebar/sidebar-mobile.tsx` — should return no matches.
  Run: `grep -i "sidekiq" sidekiq-webapp/src/components/sidebar/sidebar-header.tsx` — should show lowercase brand.
  </verify>
  <done>
  Sidebar structure uses sidebar tokens, has border-r separation, header shows lowercase "sidekiq", footer has border-t, search has clean input, collapsed rail uses sidebar tokens, mobile drawer uses sidebar bg. All semantic tokens, zero hardcoded colors.
  </done>
</task>

<task type="auto">
  <name>Task 2: Restyle thread items and sidebar sections</name>
  <files>
    sidekiq-webapp/src/components/thread/thread-item.tsx
    sidekiq-webapp/src/components/sidebar/sidebar-thread-list.tsx
    sidekiq-webapp/src/components/sidebar/sidebar-thread-group.tsx
    sidekiq-webapp/src/components/sidebar/sidebar-sidekiqs.tsx
    sidekiq-webapp/src/components/sidebar/sidebar-teams.tsx
  </files>
  <action>
  Read each file and apply these changes:

  **thread-item.tsx:**
  - This is the most important component for Linear-style active states.
  - Active/selected state: `bg-sidebar-accent border-l-2 border-sidebar-primary` (left accent bar + filled background)
  - Hover state: `hover:bg-sidebar-accent/50` (subtle 5% opacity shift)
  - Base: `group flex items-center gap-2 rounded-md px-3 py-2 cursor-pointer transition-colors`
  - Title text: `text-sm text-sidebar-foreground` (slightly smaller than main content)
  - Subtitle/metadata: `text-xs text-muted-foreground`
  - If the thread has a Sidekiq icon, ensure it's properly aligned
  - Replace ALL hardcoded zinc colors
  - If there's an archived state, use `opacity-60`

  **sidebar-thread-list.tsx:**
  - Container styling: clean list without excess padding
  - Replace hardcoded zinc colors
  - Ensure smooth scrolling area

  **sidebar-thread-group.tsx:**
  - Group header (Today, Yesterday, etc.): `text-xs font-semibold text-muted-foreground uppercase tracking-wider px-3 py-2`
    - This uses normal case with font-semibold per the research recommendation (section label treatment)
    - Actually, use: `text-xs font-medium text-muted-foreground px-3 py-1.5` for the date labels (keep them subtle)
  - Replace hardcoded zinc colors

  **sidebar-sidekiqs.tsx:**
  - Section header: `text-xs font-medium text-muted-foreground px-3 py-1.5`
  - Sidekiq items: similar styling to thread items but for sidekiq entries
  - Replace hardcoded zinc colors
  - Active state if applicable: same left accent bar pattern

  **sidebar-teams.tsx:**
  - Section header: `text-xs font-medium text-muted-foreground px-3 py-1.5`
  - Team items: clean list items with semantic tokens
  - Replace hardcoded zinc colors
  </action>
  <verify>
  Run: `grep -r "zinc-\|glass\|backdrop-blur" sidekiq-webapp/src/components/thread/thread-item.tsx sidekiq-webapp/src/components/sidebar/sidebar-thread-list.tsx sidekiq-webapp/src/components/sidebar/sidebar-thread-group.tsx sidekiq-webapp/src/components/sidebar/sidebar-sidekiqs.tsx sidekiq-webapp/src/components/sidebar/sidebar-teams.tsx` — should return no matches.
  Run: `grep "border-l" sidekiq-webapp/src/components/thread/thread-item.tsx` — should find the left accent bar.
  Run: `cd sidekiq-webapp && pnpm tsc --noEmit 2>&1 | head -20` — no TypeScript errors.
  </verify>
  <done>
  Thread items have Linear-style active state with left accent bar (border-l-2 border-sidebar-primary) and bg-sidebar-accent fill. All sidebar sections use consistent text-xs font-medium headers. All files use semantic tokens with zero hardcoded colors.
  </done>
</task>

</tasks>

<verification>
1. `grep -r "zinc-\|glass\|backdrop-blur" sidekiq-webapp/src/components/sidebar/ sidekiq-webapp/src/components/thread/` returns no matches
2. `grep "border-l" sidekiq-webapp/src/components/thread/thread-item.tsx` finds left accent bar
3. `grep "border-r" sidekiq-webapp/src/components/sidebar/sidebar.tsx` finds right border
4. `cd sidekiq-webapp && pnpm tsc --noEmit` passes
</verification>

<success_criteria>
- Sidebar uses sidebar tokens for distinct background
- Thread items have left accent bar (border-l-2) for active state
- Sidebar header shows lowercase "sidekiq"
- Section headers use consistent text-xs styling
- Sidebar has border-r separation from main content
- All 11 files have zero hardcoded zinc/glass/backdrop-blur
- TypeScript compilation passes
</success_criteria>

<output>
After completion, create `.planning/phases/08.1-rethink-branding-ui/08.1-05-SUMMARY.md`
</output>
