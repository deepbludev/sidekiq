---
phase: 08.1-rethink-branding-ui
plan: 02
type: execute
wave: 2
depends_on: ["08.1-01"]
files_modified:
  - sidekiq-webapp/src/components/ui/button.tsx
  - sidekiq-webapp/src/components/ui/card.tsx
  - sidekiq-webapp/src/components/ui/dialog.tsx
  - sidekiq-webapp/src/components/ui/alert-dialog.tsx
  - sidekiq-webapp/src/components/ui/dropdown-menu.tsx
  - sidekiq-webapp/src/components/ui/command.tsx
  - sidekiq-webapp/src/components/ui/badge.tsx
  - sidekiq-webapp/src/components/ui/skeleton.tsx
  - sidekiq-webapp/src/components/ui/sonner.tsx
  - sidekiq-webapp/src/components/ui/tooltip.tsx
  - sidekiq-webapp/src/components/ui/input.tsx
  - sidekiq-webapp/src/components/ui/textarea.tsx
  - sidekiq-webapp/src/components/ui/tabs.tsx
  - sidekiq-webapp/src/components/ui/popover.tsx
  - sidekiq-webapp/src/components/ui/hover-card.tsx
  - sidekiq-webapp/src/components/ui/context-menu.tsx
autonomous: true

must_haves:
  truths:
    - "Card component uses rounded-lg (not rounded-xl) for sharp technical feel"
    - "Dialog styled as elevated card with visible border and slight shadow"
    - "Dropdown menus and command palettes are crisp with tight padding and subtle border"
    - "Skeleton loading states match the new color palette"
    - "Toasts are restyled to match the design language"
    - "No hardcoded zinc-* colors remain in any UI primitive"
  artifacts:
    - path: "sidekiq-webapp/src/components/ui/card.tsx"
      provides: "Card with reduced border radius"
      contains: "rounded-lg"
    - path: "sidekiq-webapp/src/components/ui/dialog.tsx"
      provides: "Dialog with elevated card styling"
      contains: "border"
    - path: "sidekiq-webapp/src/components/ui/sonner.tsx"
      provides: "Restyled toast component"
  key_links:
    - from: "sidekiq-webapp/src/components/ui/button.tsx"
      to: "sidekiq-webapp/src/styles/globals.css"
      via: "Semantic token classes (bg-primary, text-primary-foreground)"
      pattern: "bg-primary"
---

<objective>
Update all shadcn UI primitive components to align with the Linear-inspired aesthetic: reduced border radius, crisp command-menu styling for dropdowns, elevated card dialogs, and consistent token usage.

Purpose: UI primitives are the building blocks used by all domain components. Updating them first ensures consistent styling cascades through the entire application.
Output: 16 updated shadcn UI component files with Linear-style classes.
</objective>

<execution_context>
@/Users/carlocasorzo/.claude/get-shit-done/workflows/execute-plan.md
@/Users/carlocasorzo/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/phases/08.1-rethink-branding-ui/08.1-RESEARCH.md
@.planning/phases/08.1-rethink-branding-ui/08.1-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update card, dialog, alert-dialog, and overlay components</name>
  <files>
    sidekiq-webapp/src/components/ui/card.tsx
    sidekiq-webapp/src/components/ui/dialog.tsx
    sidekiq-webapp/src/components/ui/alert-dialog.tsx
    sidekiq-webapp/src/components/ui/popover.tsx
    sidekiq-webapp/src/components/ui/hover-card.tsx
    sidekiq-webapp/src/components/ui/tooltip.tsx
    sidekiq-webapp/src/components/ui/sonner.tsx
    sidekiq-webapp/src/components/ui/skeleton.tsx
  </files>
  <action>
  Read each file and make these targeted class updates:

  **card.tsx:**
  - Change `rounded-xl` to `rounded-lg` on the Card component. If it uses `rounded-lg` already, leave it. The `--radius` change in globals.css already reduces the pixel value.
  - Ensure Card uses `bg-card text-card-foreground border border-border`. In dark mode, no shadow; in light mode, allow `shadow-sm` by adding `shadow-sm dark:shadow-none` if not already present.

  **dialog.tsx:**
  - The DialogContent should look like an elevated card: ensure it has `border border-border bg-card`. If it has `bg-background`, change to `bg-card`.
  - Add or keep subtle shadow: `shadow-lg`.
  - Ensure overlay uses `bg-black/50` or `bg-black/60` (dimmed backdrop, not glass).
  - Remove any backdrop-blur if present.

  **alert-dialog.tsx:**
  - Same treatment as dialog.tsx: `border border-border bg-card shadow-lg`, dimmed overlay without blur.

  **popover.tsx:**
  - Ensure PopoverContent has: `border border-border bg-popover shadow-md` for crisp command-menu feel.
  - Remove any backdrop-blur.

  **hover-card.tsx:**
  - Same as popover: `border border-border bg-popover shadow-md`.

  **tooltip.tsx:**
  - Ensure tooltip uses semantic tokens. Should be `bg-primary text-primary-foreground` or `bg-popover text-popover-foreground border border-border` depending on current style. If using bg-primary (dark tooltip on light bg), keep it.

  **sonner.tsx:**
  - The Sonner/Toaster component wraps the sonner library. Ensure its `toastOptions` or `className` use the design system tokens. Update the theme-dependent className mapping to reference `bg-card text-card-foreground border-border` for toast styling. Ensure descriptions use `text-muted-foreground`. Remove any glass-related classes.

  **skeleton.tsx:**
  - Ensure skeleton uses `bg-muted animate-pulse` (the muted token now has the blue tint from globals.css). No hardcoded zinc colors.

  For ALL files: grep for any hardcoded `zinc-` color classes and replace with semantic tokens:
  - `bg-zinc-*` -> `bg-card`, `bg-muted`, `bg-background`, or `bg-secondary` as appropriate
  - `text-zinc-*` -> `text-foreground`, `text-muted-foreground`, or `text-secondary-foreground`
  - `border-zinc-*` -> `border-border`
  </action>
  <verify>
  Run: `grep -r "zinc-" sidekiq-webapp/src/components/ui/card.tsx sidekiq-webapp/src/components/ui/dialog.tsx sidekiq-webapp/src/components/ui/alert-dialog.tsx sidekiq-webapp/src/components/ui/popover.tsx sidekiq-webapp/src/components/ui/hover-card.tsx sidekiq-webapp/src/components/ui/tooltip.tsx sidekiq-webapp/src/components/ui/sonner.tsx sidekiq-webapp/src/components/ui/skeleton.tsx`
  Should return no matches (zero hardcoded zinc colors).
  Run: `grep "backdrop-blur" sidekiq-webapp/src/components/ui/dialog.tsx sidekiq-webapp/src/components/ui/alert-dialog.tsx` should return no matches.
  </verify>
  <done>
  Card uses rounded-lg, dialog/alert-dialog are elevated cards with border+shadow, popover/hover-card are crisp with border+shadow, sonner toasts use design tokens, skeleton uses bg-muted. No hardcoded zinc colors remain.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update interactive components (button, badge, tabs, inputs, menus)</name>
  <files>
    sidekiq-webapp/src/components/ui/button.tsx
    sidekiq-webapp/src/components/ui/badge.tsx
    sidekiq-webapp/src/components/ui/tabs.tsx
    sidekiq-webapp/src/components/ui/input.tsx
    sidekiq-webapp/src/components/ui/textarea.tsx
    sidekiq-webapp/src/components/ui/dropdown-menu.tsx
    sidekiq-webapp/src/components/ui/command.tsx
    sidekiq-webapp/src/components/ui/context-menu.tsx
  </files>
  <action>
  Read each file and make these targeted class updates:

  **button.tsx:**
  - Verify the variant styles work well with the new blue primary token. The default variant should have `bg-primary text-primary-foreground hover:bg-primary/90` which now gives blue buttons. The destructive variant stays red.
  - The "secondary" variant: ensure it's `bg-secondary text-secondary-foreground hover:bg-secondary/80`.
  - The "outline" variant: ensure border + transparent bg: `border border-border bg-transparent hover:bg-accent hover:text-accent-foreground`.
  - The "ghost" variant: `hover:bg-accent hover:text-accent-foreground`.
  - Remove any hardcoded zinc colors.

  **badge.tsx:**
  - Verify variants work with new tokens. The outline variant should be subtle bordered. Remove any hardcoded zinc colors.

  **tabs.tsx:**
  - TabsList: should use `bg-muted` for the container.
  - TabsTrigger active state: `data-[state=active]:bg-background data-[state=active]:text-foreground` (a clean active tab). Remove any hardcoded zinc colors.

  **input.tsx:**
  - Ensure it uses semantic tokens: `border-input bg-transparent` or `bg-background`. The focus ring should be `focus-visible:ring-ring`.
  - Remove any `glass-input` class references.
  - Remove any hardcoded zinc colors.

  **textarea.tsx:**
  - Same treatment as input.tsx. Remove glass-input, use semantic tokens.

  **dropdown-menu.tsx:**
  - DropdownMenuContent: crisp command-menu feel with `border border-border bg-popover shadow-md`. Tight padding.
  - DropdownMenuItem: `hover:bg-accent hover:text-accent-foreground`.
  - Destructive items: `text-destructive hover:bg-destructive/10` (subtle red highlight, not full red bg).
  - Remove any hardcoded zinc colors or backdrop-blur.

  **command.tsx:**
  - CommandDialog/Command: ensure `border border-border bg-popover`.
  - CommandInput: clean input styling, no glass classes.
  - CommandItem: `hover:bg-accent hover:text-accent-foreground`. Selected state via `aria-selected:bg-accent`.
  - Remove any hardcoded zinc colors.

  **context-menu.tsx:**
  - Same styling as dropdown-menu: crisp border, popover bg, tight padding.
  - Remove any hardcoded zinc colors.

  For ALL files: grep for `glass` and `zinc-` and replace with semantic tokens.
  </action>
  <verify>
  Run: `grep -r "zinc-\|glass" sidekiq-webapp/src/components/ui/button.tsx sidekiq-webapp/src/components/ui/badge.tsx sidekiq-webapp/src/components/ui/tabs.tsx sidekiq-webapp/src/components/ui/input.tsx sidekiq-webapp/src/components/ui/textarea.tsx sidekiq-webapp/src/components/ui/dropdown-menu.tsx sidekiq-webapp/src/components/ui/command.tsx sidekiq-webapp/src/components/ui/context-menu.tsx`
  Should return no matches.
  Run: `cd sidekiq-webapp && pnpm tsc --noEmit 2>&1 | head -20` to verify no TypeScript errors.
  </verify>
  <done>
  All interactive UI primitives (button, badge, tabs, input, textarea, dropdown-menu, command, context-menu) use semantic tokens only. Button primary variant renders blue. No hardcoded zinc or glass classes remain.
  </done>
</task>

</tasks>

<verification>
1. `grep -r "zinc-" sidekiq-webapp/src/components/ui/ | grep -v node_modules` returns no matches
2. `grep -r "glass" sidekiq-webapp/src/components/ui/` returns no matches
3. `grep -r "backdrop-blur" sidekiq-webapp/src/components/ui/` returns no matches
4. `grep "rounded-xl" sidekiq-webapp/src/components/ui/card.tsx` returns no matches
5. `cd sidekiq-webapp && pnpm tsc --noEmit` passes
</verification>

<success_criteria>
- All 16 UI primitive files use only semantic token classes (bg-card, text-foreground, border-border, etc.)
- Zero hardcoded zinc-* colors in any UI primitive
- Zero glass/backdrop-blur references in any UI primitive
- Card uses rounded-lg (sharp feel via reduced --radius)
- Dialog/alert-dialog styled as elevated cards with border and shadow
- Dropdown/command/context menus are crisp with tight padding
- TypeScript compilation passes
</success_criteria>

<output>
After completion, create `.planning/phases/08.1-rethink-branding-ui/08.1-02-SUMMARY.md`
</output>
