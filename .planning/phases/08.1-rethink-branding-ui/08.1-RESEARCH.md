# Phase 8.1: Rethink Branding and UI to Match Linear Aesthetic - Research

**Researched:** 2026-01-26
**Domain:** Design system overhaul (CSS variables, typography, component styling, branding)
**Confidence:** HIGH

## Summary

This phase is a comprehensive visual redesign shifting from the current glassmorphism/Geist-based aesthetic to a Linear/Raycast-inspired minimalist, professional look. The codebase already uses the correct architecture (shadcn/ui + Tailwind CSS v4 + CSS variables in oklch), so the work is primarily about changing CSS variable values, updating component class strings, switching the font from Geist to Inter, and removing glassmorphism utilities.

The existing design system uses shadcn's standard CSS variable token structure (`:root` + `.dark` with `--background`, `--foreground`, `--primary`, etc.) which is the correct approach and should be preserved. The main changes are: (1) new color values in the CSS variables to match near-black dark mode + blue accent, (2) font swap from Geist to Inter + Geist Mono for code, (3) reduce border radius from 0.625rem to ~4-6px, (4) remove all glassmorphism utilities and replace with solid backgrounds, (5) update ~80+ component files with revised class names.

**Primary recommendation:** Use the existing shadcn CSS variable token structure. Redefine all color values in globals.css with a blue-accent oklch palette, swap fonts in layout.tsx, update the `--radius` base value, remove `.glass*` utilities, then systematically update each component file's Tailwind classes. Add new tokens for `--brand` and `--brand-foreground` for the blue accent. No new libraries needed.

## Standard Stack

The established libraries/tools for this domain:

### Core
| Library | Version | Purpose | Why Standard |
|---------|---------|---------|--------------|
| Tailwind CSS | ^4.0.15 | Utility-first CSS framework | Already in use, v4 supports `@theme` directive for CSS variable theming |
| shadcn/ui | new-york style | Component library with CSS variable theming | Already in use, provides the token structure we modify |
| next-themes | ^0.4.6 | Dark/light mode switching | Already in use with `attribute="class"` |
| oklch color space | CSS native | Perceptually uniform color definitions | Already in use in globals.css, ideal for generating consistent palettes |

### Supporting
| Library | Version | Purpose | When to Use |
|---------|---------|---------|-------------|
| Inter (next/font/google) | Latest | Primary sans-serif font | Replace Geist as main body/heading font |
| Geist Mono (next/font/google) | Latest | Monospace font for code | Pair with Inter for code blocks (already bundled with project via Geist import) |
| class-variance-authority | ^0.7.1 | Component variant management | Already in use for button/badge/tab variants |
| @tailwindcss/typography | ^0.5.19 | Prose styling for markdown | Already in use for chat message rendering |

### Alternatives Considered
| Instead of | Could Use | Tradeoff |
|------------|-----------|----------|
| Geist Mono for code | JetBrains Mono | JetBrains Mono is excellent but Geist Mono is already in the project and pairs well with Inter; avoids extra font download |
| oklch colors | hex colors | oklch is perceptually uniform, better for generating consistent dark/light palettes; already in use |
| Manual CSS variable editing | Tailwind theme plugin | Manual editing is simpler for this scope since we only change values, not structure |

**Installation:**
```bash
# No new packages needed. Inter is available via next/font/google.
# Geist Mono is already available since Geist is imported.
# If we want to be explicit about the mono font:
# Already in next/font/google - just change the import in layout.tsx
```

## Architecture Patterns

### Recommended Project Structure
The existing structure is correct and needs no changes:
```
src/
├── styles/
│   └── globals.css          # CSS variables (tokens), glassmorphism utilities, scrollbar styles
├── app/
│   └── layout.tsx           # Font loading, ThemeProvider, Toaster
├── components/
│   ├── ui/                  # shadcn base components (button, card, dialog, etc.)
│   ├── chat/                # Chat-specific components
│   ├── sidebar/             # Sidebar components
│   ├── sidekiq/             # Sidekiq-specific components
│   ├── team/                # Team-specific components
│   ├── auth/                # Auth page components
│   ├── thread/              # Thread list item components
│   ├── model-picker/        # Model picker components
│   └── theme/               # Theme provider + toggle
└── lib/
    └── utils.ts             # cn() utility (already correct)
```

### Pattern 1: CSS Variable Token Architecture (PRESERVE)
**What:** All colors defined as CSS variables in `:root` and `.dark`, mapped to Tailwind via `@theme inline` in globals.css.
**When to use:** This is the existing pattern and must be preserved.
**Example:**
```css
/* Source: existing globals.css + shadcn theming docs */
/* Only VALUES change, not the structure */
:root {
  --radius: 0.25rem;  /* Changed from 0.625rem to ~4px */
  --background: oklch(0.985 0 0);           /* Light mode: near-white */
  --foreground: oklch(0.145 0.005 260);     /* Dark text with slight blue tint */
  --primary: oklch(0.55 0.2 260);           /* Blue accent */
  --primary-foreground: oklch(0.985 0 0);   /* White text on blue */
  /* ... etc */
}
.dark {
  --background: oklch(0.07 0.005 260);      /* Near-black with slight blue: ~#0A0A0B */
  --foreground: oklch(0.92 0 0);            /* Light gray text (not pure white) */
  --primary: oklch(0.6 0.18 260);           /* Blue accent (slightly lighter in dark) */
  /* ... etc */
}
```

### Pattern 2: Font Loading with CSS Variables
**What:** Load Inter + Geist Mono via `next/font/google`, expose as CSS variables, reference in `@theme`.
**When to use:** Replacing the current Geist font setup.
**Example:**
```tsx
// Source: Next.js font docs (Context7 verified)
import { Inter, Geist_Mono } from "next/font/google";

const inter = Inter({
  subsets: ["latin"],
  variable: "--font-inter",
  display: "swap",
});

const geistMono = Geist_Mono({
  subsets: ["latin"],
  variable: "--font-geist-mono",
});

// In html tag:
<html className={`${inter.variable} ${geistMono.variable}`}>
```

```css
/* In globals.css @theme block */
@theme {
  --font-sans: var(--font-inter), ui-sans-serif, system-ui, sans-serif;
  --font-mono: var(--font-geist-mono), ui-monospace, monospace;
}
```

### Pattern 3: Component-Level Token Overrides
**What:** shadcn components reference tokens like `bg-background`, `text-foreground`, `border-border`. Changing globals.css values automatically updates all components that use semantic tokens.
**When to use:** For all components that correctly use shadcn tokens.
**Impact:** Many components use hardcoded zinc-* values instead of tokens (especially auth, typing indicator). These need manual updates.

### Pattern 4: Active State with Left Accent Bar
**What:** Selected items use `bg-accent` fill + a `border-l-2 border-primary` left bar for maximum clarity.
**When to use:** Sidebar thread items, navigation items, any list with active state.
**Example:**
```tsx
// Active thread item styling
<div className={cn(
  "group flex items-center gap-2 rounded-md px-3 py-2",
  "cursor-pointer transition-colors",
  "hover:bg-accent/50",
  isActive && "bg-accent border-l-2 border-primary",
)}>
```

### Anti-Patterns to Avoid
- **Hardcoded zinc-\* colors instead of semantic tokens:** Many existing components use `text-zinc-400`, `bg-zinc-800/50`, etc. These bypass the theming system and break when tokens change. Replace ALL with semantic tokens (`text-muted-foreground`, `bg-muted`, etc.).
- **Pure white (#fff / oklch(1 0 0)) text in dark mode:** Creates harsh contrast and eye strain. Use `oklch(0.92 0 0)` or similar for body text. Reserve near-white for headings only.
- **backdrop-blur with solid backgrounds:** The glassmorphism utilities combine transparency + blur. With the new solid-surface approach, these are visually contradictory. Remove them entirely.
- **Mixed border-radius values:** Currently uses `rounded-xl` on cards and `rounded-lg` elsewhere. Unify to `rounded-md` (which will be ~4-6px with the new `--radius`) for the sharp, technical feel.

## Don't Hand-Roll

Problems that look simple but have existing solutions:

| Problem | Don't Build | Use Instead | Why |
|---------|-------------|-------------|-----|
| Color palette generation | Manual hex/oklch value picking | oklch with systematic lightness steps | Perceptually uniform, consistent across hue shifts |
| Dark/light mode switching | Custom toggle logic | next-themes (already in use) | Handles SSR hydration, system preference, localStorage |
| Component token mapping | Custom CSS class system | shadcn's CSS variable architecture | Already established, consistent, well-tested |
| Font loading | Manual @font-face | next/font/google Inter | Automatic optimization, subset loading, CSS variable injection |
| Scrollbar styling | Complex JS scroll library | CSS `::-webkit-scrollbar` (already in use) | Already implemented, just needs color updates |
| Toast theming | Custom toast component | sonner with CSS variable overrides (already in use) | Already integrated, just update the CSS variable mapping |

**Key insight:** This phase is about changing VALUES within an existing architecture, not building new infrastructure. The shadcn + Tailwind + CSS variables system is already the right architecture. Resist the temptation to restructure -- just update the values and class names.

## Common Pitfalls

### Pitfall 1: Inconsistent Token Usage Across Components
**What goes wrong:** Some components use semantic tokens (`bg-background`, `text-foreground`) while others use hardcoded zinc values (`bg-zinc-900/50`, `text-zinc-400`). After updating globals.css, the hardcoded components look out of place.
**Why it happens:** Components were written at different times with different patterns. Auth components especially use hardcoded dark zinc values.
**How to avoid:** Audit EVERY component file for hardcoded color values. Replace all with semantic tokens. The grep results show ~44 occurrences of `border-zinc|bg-zinc|text-zinc` across 15 files that need conversion.
**Warning signs:** After changing globals.css, if some parts of the app look wrong while others look right, it's because of hardcoded values.

### Pitfall 2: Font Swap Breaking Layout
**What goes wrong:** Inter and Geist have different metrics (x-height, ascender, descender). Swapping fonts can cause text to overflow containers, buttons to misalign, or sidebar widths to feel wrong.
**Why it happens:** Font metrics differ subtly between typefaces.
**How to avoid:** Use `display: "swap"` for Inter to avoid FOIT. Test all components after font swap, especially: sidebar (fixed width), buttons (height-constrained), chat input (auto-resize), thread titles (truncation points).
**Warning signs:** Text appearing clipped, buttons looking taller/shorter, sidebar items wrapping unexpectedly.

### Pitfall 3: Border Radius Change Cascade
**What goes wrong:** Reducing `--radius` from 0.625rem to ~0.25rem affects ALL shadcn components that use `rounded-md`, `rounded-lg`, etc. (these are calculated from `--radius`). Some components have explicit `rounded-xl` or `rounded-full` that don't use the variable.
**Why it happens:** The radius variables are: `--radius-sm: calc(var(--radius) - 4px)`, `--radius-md: calc(var(--radius) - 2px)`, etc. Lowering `--radius` to 0.25rem (4px) means `--radius-sm` = 0px and `--radius-md` = 2px.
**How to avoid:** Set `--radius` to 0.375rem (6px) which gives: sm=2px, md=4px, lg=6px, xl=10px. This matches the "4-6px" target. Components with explicit `rounded-full` (avatars, badges) should keep those.
**Warning signs:** Elements with zero border radius, or avatars losing their round shape.

### Pitfall 4: Light Mode Getting Neglected
**What goes wrong:** The context says "equal treatment for both dark and light modes" but developers tend to test only dark mode (the primary design surface). Light mode ends up with insufficient contrast or ugly color combinations.
**Why it happens:** Dark mode is visually more dramatic and gets more attention during development.
**How to avoid:** Define light mode tokens explicitly (not just by inverting dark mode). Test every component in both modes. Use oklch lightness values that ensure WCAG AA contrast in both modes.
**Warning signs:** Light mode text too faint, borders invisible, or accent colors too saturated.

### Pitfall 5: Glassmorphism Removal Leaves Empty Gaps
**What goes wrong:** Components that relied on `glass`, `glass-subtle`, or `glass-input` classes lose their visual identity when the classes are removed. The areas they occupied become invisible or blend into backgrounds.
**Why it happens:** Glassmorphism provided visual separation through transparency + blur. Without it, solid backgrounds need explicit borders or background shifts to maintain hierarchy.
**How to avoid:** When removing a glass class, replace it with appropriate solid styling: `bg-background border border-border` for panels, `bg-muted` for subtle backgrounds, `bg-card border` for elevated elements.
**Warning signs:** UI sections that blend together with no visual separation.

### Pitfall 6: Chat Input Area Losing Structure
**What goes wrong:** The chat input currently uses `.glass` and `.glass-input` classes for its area and textarea. Removing these without replacement makes the input feel flat and unstructured.
**Why it happens:** The context specifically calls for an "editor-like" input with "visible toolbar area and defined border."
**How to avoid:** Replace glass styling with: defined border (`border border-border`), visible background contrast (`bg-card` or slightly elevated `bg-muted/50`), structured layout with toolbar area separated from textarea.
**Warning signs:** Chat input looking like a plain text field rather than a structured editor.

## Code Examples

Verified patterns from official sources:

### New globals.css Color Palette (Dark-First Design)
```css
/* New color palette for Linear-inspired aesthetic */
/* Blue accent: oklch hue ~260 (blue-indigo range) */
:root {
  --radius: 0.375rem;  /* 6px base = sharp, technical feel */

  /* Light mode */
  --background: oklch(0.985 0.002 260);       /* Near-white with very slight blue */
  --foreground: oklch(0.15 0.01 260);          /* Very dark blue-gray */
  --card: oklch(1 0 0);                         /* Pure white cards */
  --card-foreground: oklch(0.15 0.01 260);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.15 0.01 260);
  --primary: oklch(0.55 0.2 260);              /* Blue accent */
  --primary-foreground: oklch(0.985 0 0);       /* White on blue */
  --secondary: oklch(0.96 0.003 260);           /* Light gray surface */
  --secondary-foreground: oklch(0.2 0.01 260);
  --muted: oklch(0.96 0.003 260);
  --muted-foreground: oklch(0.5 0.015 260);     /* Gray text */
  --accent: oklch(0.96 0.003 260);
  --accent-foreground: oklch(0.2 0.01 260);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.92 0.005 260);              /* Visible but subtle border */
  --input: oklch(0.92 0.005 260);
  --ring: oklch(0.55 0.2 260);                  /* Blue focus ring */

  /* Sidebar - slightly different from main */
  --sidebar: oklch(0.975 0.002 260);
  --sidebar-foreground: oklch(0.15 0.01 260);
  --sidebar-primary: oklch(0.55 0.2 260);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.94 0.005 260);
  --sidebar-accent-foreground: oklch(0.15 0.01 260);
  --sidebar-border: oklch(0.92 0.005 260);
  --sidebar-ring: oklch(0.55 0.2 260);
}

.dark {
  /* Near-black backgrounds (#0A0A0B range) */
  --background: oklch(0.13 0.005 260);          /* ~#0F1011 near-black */
  --foreground: oklch(0.92 0.005 260);          /* Light gray (not pure white) */
  --card: oklch(0.17 0.007 260);                /* Slightly elevated surface */
  --card-foreground: oklch(0.92 0.005 260);
  --popover: oklch(0.17 0.007 260);
  --popover-foreground: oklch(0.92 0.005 260);
  --primary: oklch(0.6 0.18 260);               /* Blue accent (slightly brighter in dark) */
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.2 0.007 260);
  --secondary-foreground: oklch(0.92 0.005 260);
  --muted: oklch(0.2 0.007 260);
  --muted-foreground: oklch(0.6 0.015 260);     /* ~#95A2B3 muted gray */
  --accent: oklch(0.2 0.007 260);
  --accent-foreground: oklch(0.92 0.005 260);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);                 /* 10% white border (Linear pattern) */
  --input: oklch(1 0 0 / 12%);
  --ring: oklch(0.6 0.18 260);                  /* Blue focus ring */

  /* Sidebar - slightly darker than main */
  --sidebar: oklch(0.11 0.005 260);             /* Darker than background */
  --sidebar-foreground: oklch(0.92 0.005 260);
  --sidebar-primary: oklch(0.6 0.18 260);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.22 0.008 260);
  --sidebar-accent-foreground: oklch(0.92 0.005 260);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.6 0.18 260);
}
```

### Font Setup in layout.tsx
```tsx
// Replace Geist with Inter + Geist Mono
import { Inter } from "next/font/google";
import { Geist_Mono } from "next/font/google";

const inter = Inter({
  subsets: ["latin"],
  variable: "--font-inter",
  display: "swap",
});

const geistMono = Geist_Mono({
  subsets: ["latin"],
  variable: "--font-geist-mono",
});

// In return:
<html lang="en" className={`${inter.variable} ${geistMono.variable}`} suppressHydrationWarning>
```

```css
/* In globals.css @theme block */
@theme {
  --font-sans:
    var(--font-inter), ui-sans-serif, system-ui, sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-mono:
    var(--font-geist-mono), ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
}
```

### Active State Pattern with Left Accent Bar
```tsx
// Thread item with Linear-style active state
<div className={cn(
  "group flex items-center gap-2 rounded-md px-3 py-2",
  "cursor-pointer transition-colors",
  "hover:bg-accent/50",
  isActive && "bg-accent border-l-2 border-primary",
  thread.isArchived && "opacity-60",
)}>
```

### Chat Input Editor-Like Styling
```tsx
// Replace glass classes with structured editor-like input
<div className="border-t border-border bg-background px-4 py-4">
  <div className="mx-auto max-w-3xl">
    <div className="rounded-md border border-border bg-card">
      {/* Toolbar area */}
      <div className="flex items-center gap-2 border-b border-border px-3 py-1.5">
        {/* Model picker, Sidekiq badge, etc. */}
      </div>
      {/* Textarea */}
      <Textarea className="border-0 bg-transparent focus-visible:ring-0 ..." />
      {/* Action buttons */}
      <div className="flex items-center justify-end px-3 py-1.5">
        {/* Send/Stop button */}
      </div>
    </div>
  </div>
</div>
```

### Keyboard Shortcut Kbd Element
```tsx
// Linear/Raycast-style keyboard shortcut badges
<kbd className="inline-flex h-5 items-center rounded border border-border bg-muted px-1.5 text-[10px] font-medium text-muted-foreground">
  {/* e.g. "Cmd" or "K" */}
</kbd>
```

### Component Hardcoded Color Replacement Map
```tsx
// BEFORE (hardcoded):
"bg-zinc-900/50"        -> "bg-card"
"bg-zinc-800/50"        -> "bg-muted"
"bg-zinc-950"           -> "bg-background"
"border-zinc-800"       -> "border-border"
"border-zinc-700/50"    -> "border-border"
"text-zinc-400"         -> "text-muted-foreground"
"text-zinc-200"         -> "text-foreground"
"text-white"            -> "text-foreground" (or "text-primary-foreground" on colored bg)
"from-zinc-900 to-zinc-950" -> "bg-background" (remove gradient)
```

## State of the Art

| Old Approach | Current Approach | When Changed | Impact |
|--------------|------------------|--------------|--------|
| HSL color definitions | oklch color space | Tailwind v4 (2024) | Already adopted in this project; oklch is perceptually uniform |
| Glassmorphism (frosted glass) | Solid surfaces with subtle borders | 2024-2025 trend | Linear/Raycast use solid backgrounds, not transparency |
| Large rounded corners (12-16px) | Small/sharp corners (4-6px) | 2024-2025 trend | Precision/technical feel replaces soft/friendly |
| Geist font (Vercel default) | Inter (industry standard) | N/A | Inter is the dominant UI font; Linear, GitHub, and many tools use it |
| HSL-based theme generation | LCH/oklch-based themes | Linear redesign 2024 | Linear migrated from HSL to LCH for perceptually uniform theme generation |

**Deprecated/outdated:**
- **Glassmorphism:** While still used in some consumer apps, developer-tool aesthetics have moved to solid surfaces with crisp borders. Linear explicitly reduced "visual noise and chrome" in their 2024 redesign.
- **backdrop-blur on UI panels:** Performance cost + visual inconsistency. Solid backgrounds with border separation are the current standard.

## Inventory of Files Requiring Changes

### Critical Path (must change for coherent look)
1. `src/styles/globals.css` - Color tokens, radius, font, remove glass utilities
2. `src/app/layout.tsx` - Font import swap (Geist -> Inter + Geist Mono)
3. `src/app/(auth)/layout.tsx` - Hardcoded zinc colors, brand name display
4. `src/app/(dashboard)/layout.tsx` - Hardcoded `bg-zinc-950`
5. `src/components/sidebar/sidebar.tsx` - Border styling
6. `src/components/sidebar/sidebar-header.tsx` - Logo/brand mark, New Chat button
7. `src/components/chat/chat-interface.tsx` - Glass class removal, gradient removal
8. `src/components/chat/chat-input.tsx` - Glass-input removal, editor-like redesign
9. `src/components/chat/chat-header.tsx` - Bottom border bar styling
10. `src/components/chat/empty-state.tsx` - Glass-subtle removal
11. `src/components/chat/message-item.tsx` - Message background tint
12. `src/components/chat/message-content.tsx` - Code block styling, prose overrides
13. `src/components/chat/typing-indicator.tsx` - Hardcoded zinc colors throughout

### UI Primitives (shadcn components)
14. `src/components/ui/button.tsx` - Verify variant styles work with new tokens
15. `src/components/ui/card.tsx` - Reduce rounded-xl to rounded-md
16. `src/components/ui/dialog.tsx` - Elevated card styling with border + shadow
17. `src/components/ui/dropdown-menu.tsx` - Crisp command menu styling
18. `src/components/ui/command.tsx` - Crisp command palette styling
19. `src/components/ui/badge.tsx` - Verify with new tokens
20. `src/components/ui/skeleton.tsx` - Restyle loading animation
21. `src/components/ui/sonner.tsx` - Toast restyling
22. `src/components/ui/tooltip.tsx` - Verify with new tokens
23. `src/components/ui/input.tsx` - Form input styling
24. `src/components/ui/textarea.tsx` - Form textarea styling
25. `src/components/ui/tabs.tsx` - Tab styling
26. `src/components/ui/popover.tsx` - Popover styling
27. `src/components/ui/hover-card.tsx` - Hover card styling
28. `src/components/ui/context-menu.tsx` - Context menu styling
29. `src/components/ui/alert-dialog.tsx` - Alert dialog styling

### Domain Components
30. `src/components/auth/auth-card.tsx` - Hardcoded zinc colors
31. `src/components/auth/sign-in-form.tsx` - Hardcoded zinc colors
32. `src/components/auth/sign-up-form.tsx` - Hardcoded zinc colors
33. `src/components/auth/oauth-buttons.tsx` - Hardcoded zinc colors
34. `src/components/auth/forgot-password-form.tsx` - Hardcoded zinc colors
35. `src/components/auth/reset-password-form.tsx` - Hardcoded zinc colors
36. `src/components/thread/thread-item.tsx` - Active state + left accent bar
37. `src/components/sidebar/sidebar-footer.tsx` - Border styling
38. `src/components/sidebar/sidebar-search.tsx` - Search input styling
39. `src/components/sidebar/sidebar-collapsed.tsx` - Icon rail styling
40. `src/components/sidebar/sidebar-thread-list.tsx` - List styling
41. `src/components/sidebar/sidebar-thread-group.tsx` - Group header styling
42. `src/components/sidebar/sidebar-sidekiqs.tsx` - Section styling
43. `src/components/sidebar/sidebar-teams.tsx` - Section styling
44. `src/components/sidebar/sidebar-mobile.tsx` - Mobile drawer styling
45. `src/components/sidekiq/sidekiq-card.tsx` - Card redesign
46. `src/components/sidekiq/sidekiq-empty-state.tsx` - Empty state redesign
47. `src/components/sidekiq/sidekiq-list.tsx` - List styling
48. `src/components/sidekiq/sidekiq-form.tsx` - Form styling
49. `src/components/sidekiq/sidekiq-avatar.tsx` - Verify avatar shapes
50. `src/components/sidekiq/sidekiq-preview.tsx` - Preview styling
51. `src/components/sidekiq/sidekiq-indicator.tsx` - Indicator styling
52. `src/components/sidekiq/sidekiq-picker.tsx` - Command palette styling
53. `src/components/sidekiq/color-picker.tsx` - Color picker styling
54. `src/components/sidekiq/emoji-picker-popover.tsx` - Popover styling
55. `src/components/sidekiq/instructions-editor.tsx` - Editor styling
56. `src/components/sidekiq/conversation-starters.tsx` - Starter styling
57. `src/components/sidekiq/starter-templates.tsx` - Template styling
58. `src/components/sidekiq/avatar-picker.tsx` - Avatar picker styling
59. `src/components/sidekiq/delete-sidekiq-dialog.tsx` - Dialog styling
60. `src/components/team/team-avatar.tsx` - Verify avatar shapes
61. `src/components/team/team-empty-state.tsx` - Empty state redesign
62. `src/components/team/team-create-dialog.tsx` - Dialog styling
63. `src/components/team/team-form.tsx` - Form styling
64. `src/components/team/team-settings-section.tsx` - Settings section styling
65. `src/components/team/team-member-list.tsx` - List styling
66. `src/components/team/team-member-row.tsx` - Row styling
67. `src/components/team/team-invites-list.tsx` - List styling
68. `src/components/team/invite-member-dialog.tsx` - Dialog styling
69. `src/components/team/invite-accept-card.tsx` - Card styling
70. `src/components/team/remove-member-dialog.tsx` - Dialog styling
71. `src/components/team/delete-team-dialog.tsx` - Dialog styling
72. `src/components/model-picker/model-picker.tsx` - Picker styling
73. `src/components/model-picker/model-picker-content.tsx` - Content styling
74. `src/components/model-picker/model-item.tsx` - Item styling
75. `src/components/model-picker/model-hover-card.tsx` - Hover card styling
76. `src/components/model-picker/model-picker-trigger.tsx` - Trigger styling
77. `src/components/chat/scroll-to-bottom.tsx` - Button styling
78. `src/components/chat/message-actions.tsx` - Action button styling
79. `src/components/chat/model-switch-hint.tsx` - Hint styling
80. `src/components/theme/theme-toggle.tsx` - Glass-subtle removal
81. `src/components/theme/theme-provider.tsx` - No changes needed (logic only)

### Page-Level Files
82. `src/app/(dashboard)/settings/layout.tsx` - Settings layout styling
83. `src/app/(dashboard)/settings/page.tsx` - Settings page styling
84. `src/app/(dashboard)/settings/teams/page.tsx` - Teams page styling
85. `src/app/(dashboard)/chat/layout.tsx` - Chat layout
86. `src/app/(dashboard)/sidekiqs/layout.tsx` - Sidekiqs layout
87. `src/app/(dashboard)/sidekiqs/new/layout.tsx` - New sidekiq layout
88. `src/app/(dashboard)/sidekiqs/[id]/edit/layout.tsx` - Edit sidekiq layout
89. `src/app/invite/[token]/layout.tsx` - Invite layout
90. `src/app/page.tsx` - Landing/home page (if exists with styling)

### Assets
91. Favicon/app icon - New abstract geometric icon design

## Claude's Discretion Recommendations

Based on research, here are recommendations for areas left to Claude's discretion:

### Glassmorphism Treatment
**Recommendation:** Remove entirely. The Linear/Raycast aesthetic is about crisp, solid surfaces. Replace all `.glass`, `.glass-subtle`, `.glass-input` with solid backgrounds + defined borders. Delete the glass utility classes from globals.css.
**Rationale:** Linear explicitly reduced "visual noise and chrome." Glassmorphism adds visual noise that contradicts the minimal aesthetic.

### Chat Area vs Sidebar Background Distinction
**Recommendation:** Sidebar slightly darker than main content in dark mode (`oklch(0.11 ...)` vs `oklch(0.13 ...)`). In light mode, sidebar slightly warmer/tinted compared to white main area. This follows Linear's pattern where the sidebar is visually distinct but not dramatically different.

### Color Token Structure
**Recommendation:** Keep the existing shadcn token structure (background, foreground, card, primary, etc.) but add hue ~260 (blue-indigo) to all non-neutral tokens for subtle brand consistency. This is the "slight blue tint" approach that Linear uses. The existing structure is already correct for this codebase.

### Monospace Font for Code Blocks
**Recommendation:** Geist Mono. It's already part of the project dependency (Geist), pairs well with Inter's clean aesthetic, and avoids adding another font download. JetBrains Mono would be a fine alternative but adds load time.

### Base Text Size for Chat Messages
**Recommendation:** 14px (text-sm in Tailwind, 0.875rem). This is the current size and works well for chat interfaces. Linear uses similar sizing for their main content. The prose plugin handles the markdown rendering size.

### Section Label Treatment
**Recommendation:** Normal case with semibold weight (font-semibold). Linear uses uppercase-small for sidebar section headers but normal case for most labels. For Sidekiq, normal case feels more approachable given the "playful tech" brand personality.

### Button Styling Approach
**Recommendation:** Three tiers: (1) Primary/CTA: filled blue (`bg-primary text-primary-foreground`), (2) Secondary: subtle border (`border border-border bg-transparent hover:bg-accent`), (3) Ghost: no border (`hover:bg-accent`). Destructive: red filled for delete confirmations only, ghost-red for menu items. This matches Linear's button hierarchy.

### Form Input Styling
**Recommendation:** Defined border, slightly elevated background in dark mode (`bg-input/30` is already in the shadcn input), visible focus ring in blue. Remove all glass-input classes.

### Avatar Shapes
**Recommendation:** Keep differentiation: round (`rounded-full`) for user avatars and sidekiq avatars, rounded-lg for team avatars. This existing distinction is useful and doesn't conflict with the new aesthetic.

### Badge/Tag Styling
**Recommendation:** Subtle bordered style (outline variant as default) for informational badges. Filled for status indicators. The existing badge component variants are fine, just ensure colors work with new tokens.

### Card Treatment
**Recommendation:** `border border-border bg-card` with no shadow in dark mode, `shadow-sm` only in light mode. This matches Linear's card treatment.

### Focus Ring Styling
**Recommendation:** Blue ring (`ring-primary/50`) at 2px width. Visible but not obtrusive. This maintains accessibility while matching the brand color. The existing `focus-visible:ring-ring/50 focus-visible:ring-[3px]` pattern is close; just ensure `--ring` maps to the blue accent.

### Scrollbar Styling
**Recommendation:** Keep the existing approach but update colors to match new palette. Thin scrollbar with muted track. The current implementation is already good.

### Empty State Treatment
**Recommendation:** Centered content with muted icon in a subtle circular background (`bg-muted rounded-full p-4`), heading in foreground, description in muted-foreground, primary CTA button. Remove any glass-subtle classes. This matches the existing pattern but strips the glassmorphism.

## Open Questions

Things that couldn't be fully resolved:

1. **Exact oklch values for the blue accent**
   - What we know: Blue hue in oklch is around 250-270. Linear uses indigo (~264). The context says "blue" as brand color.
   - What's unclear: The exact lightness and chroma values need visual testing to find the right vibrancy level.
   - Recommendation: Start with `oklch(0.55 0.2 260)` for light mode and `oklch(0.6 0.18 260)` for dark mode. These provide a professional blue similar to Linear's indigo but slightly more blue. Adjust during implementation by visual inspection.

2. **Abstract geometric brand icon design**
   - What we know: Should be geometric, work as favicon + app icon + inline mark. Referenced examples: Linear's corner bracket, Vercel's triangle.
   - What's unclear: What specific geometric shape represents "Sidekiq" best. This is a creative decision.
   - Recommendation: Design a simple "S"-derived geometric mark (angled/abstract letter form) or a bracket-like symbol that suggests "sidekick" assistance. Keep it to a single path SVG for maximum versatility. This may require iteration.

3. **Geist Mono import path**
   - What we know: The project currently imports `Geist` from `next/font/google`. Geist Mono should be available as `Geist_Mono` from the same package.
   - What's unclear: Whether `Geist_Mono` is directly available in `next/font/google` or needs `next/font/local` with a different import.
   - Recommendation: Check during implementation. If `Geist_Mono` is not available in `next/font/google`, use `JetBrains_Mono` instead (confirmed available).

## Sources

### Primary (HIGH confidence)
- Context7 `/websites/tailwindcss` - Theme variables, @theme directive, CSS variable integration
- Context7 `/websites/ui_shadcn` - Theming with CSS variables, oklch color format, dark mode token structure
- Context7 `/vercel/next.js` - next/font/google configuration, Inter font setup, CSS variable integration

### Secondary (MEDIUM confidence)
- [Linear UI redesign blog post](https://linear.app/now/how-we-redesigned-the-linear-ui) - Verified specific design decisions: Inter Display for headings, LCH color migration, theme-color `#08090a`, reduced visual noise approach
- [Evil Martians oklch guide](https://evilmartians.com/chronicles/oklch-in-css-why-quit-rgb-hsl) - oklch best practices, palette generation approach
- [shadcn theming documentation](https://ui.shadcn.com/docs/theming) - CSS variable token naming conventions, light/dark mode patterns

### Tertiary (LOW confidence)
- [Medium: Linear style design origins](https://medium.com/design-bootcamp/the-rise-of-linear-style-design-origins-trends-and-techniques-4fd96aab7646) - Design trend context
- [LogRocket: Linear design trend](https://blog.logrocket.com/ux-design/linear-design/) - Design trend analysis
- [Mobbin: Linear brand colors](https://mobbin.com/colors/brand/linear) - Brand color reference (some data may be outdated)

## Metadata

**Confidence breakdown:**
- Standard stack: HIGH - All libraries already in use, documented via Context7
- Architecture: HIGH - Existing architecture is correct, only values change
- Pitfalls: HIGH - Identified through direct codebase analysis (grep results, file reads)
- Color values: MEDIUM - oklch values are starting points; exact tuning requires visual testing
- Brand icon: LOW - Creative design decision, cannot be fully researched

**Research date:** 2026-01-26
**Valid until:** 2026-03-26 (stable domain, no rapidly changing dependencies)
